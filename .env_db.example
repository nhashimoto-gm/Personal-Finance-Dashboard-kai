; ============================================================
; Personal Finance Dashboard - Database Configuration
; ============================================================
; This file contains database connection settings.
; Copy this file to .env_db and update with your actual credentials.
;
; IMPORTANT: Never commit .env_db to version control!
; ============================================================

; Application Environment
; Options: development, production
; In production mode, errors are logged instead of displayed
APP_ENV=development

; ============================================================
; Database Connection Settings
; ============================================================

; Database Host
; - For local development: localhost or 127.0.0.1
; - For Lolipop hosting: mysql***.phy.lolipop.lan
; - For other hosting: check your hosting provider's documentation
DB_HOST=localhost

; Database Username
; Example for Lolipop: LAA1234567
DB_USERNAME=your_username

; Database Password
; Your database password
DB_PASSWORD=your_password

; Database Name
; Example for Lolipop: LAA1234567-kakeidb
DB_DATABASE=your_database

; ============================================================
; Database Table Names (Optional)
; ============================================================
; After running the multi-account migration, the default table names are:
; - source (transactions)
; - cat_1_labels (shops)
; - cat_2_labels (categories)
; - budgets (budget management)
;
; You typically don't need to change these unless you have a specific reason.
; If not specified, the defaults shown below will be used.
; ============================================================

; Transaction table name
; Default: source
DB_TABLE_SOURCE=source

; Shop labels table name
; Default: cat_1_labels
DB_TABLE_SHOP=cat_1_labels

; Category labels table name
; Default: cat_2_labels
DB_TABLE_CATEGORY=cat_2_labels

; Budget table name
; Default: budgets
DB_TABLE_BUDGETS=budgets

; ============================================================
; Multi-Account Support Notes
; ============================================================
; This application now supports multiple user accounts with full data isolation.
; Each user has their own:
; - Transactions (stored in 'source' table with user_id)
; - Shops (stored in 'cat_1_labels' table with user_id)
; - Categories (stored in 'cat_2_labels' table with user_id)
; - Budgets (stored in 'budgets' table with user_id)
;
; After migration, two user accounts are created by default:
; - Username: user1, Password: password123 (CHANGE IMMEDIATELY!)
; - Username: hiromi, Password: password123 (CHANGE IMMEDIATELY!)
;
; To change passwords after migration:
;   php update-password.php user1 your_new_password
;   php update-password.php hiromi your_new_password
; ============================================================

; ============================================================
; Configuration Examples
; ============================================================

; Example 1: Local Development (XAMPP, MAMP, etc.)
; APP_ENV=development
; DB_HOST=localhost
; DB_USERNAME=root
; DB_PASSWORD=
; DB_DATABASE=finance_db

; Example 2: Lolipop Shared Hosting
; APP_ENV=production
; DB_HOST=mysql123.phy.lolipop.lan
; DB_USERNAME=LAA1234567
; DB_PASSWORD=your_secure_password
; DB_DATABASE=LAA1234567-kakeidb

; Example 3: Custom VPS/Dedicated Server
; APP_ENV=production
; DB_HOST=192.168.1.100
; DB_USERNAME=financeuser
; DB_PASSWORD=very_secure_password_here
; DB_DATABASE=personal_finance

; ============================================================
; Migration Instructions
; ============================================================
; If you are migrating from a 2-user separate table structure:
;
; 1. Backup your database:
;    mysqldump -h DB_HOST -u DB_USERNAME -p --no-tablespaces DB_DATABASE > backup.sql
;
; 2. Run the migration script:
;    mysql -h DB_HOST -u DB_USERNAME -p DB_DATABASE < migration-existing-data.sql
;
; 3. Verify the migration:
;    mysql -h DB_HOST -u DB_USERNAME -p DB_DATABASE -e "SELECT * FROM users;"
;
; 4. Change default passwords:
;    php update-password.php user1 new_password
;    php update-password.php hiromi new_password
;
; For detailed migration instructions, see: MULTI_ACCOUNT_MIGRATION.md
; ============================================================

; ============================================================
; Security Best Practices
; ============================================================
; 1. Use strong, unique passwords for database access
; 2. Set APP_ENV=production on production servers
; 3. Enable HTTPS on production servers
; 4. Restrict database user permissions (no DROP, no CREATE USER, etc.)
; 5. Keep this .env_db file permissions restricted (chmod 600)
; 6. Never commit .env_db to version control
; 7. Change default user passwords immediately after migration
; ============================================================
